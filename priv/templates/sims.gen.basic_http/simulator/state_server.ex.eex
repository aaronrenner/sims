defmodule <%= inspect @module %> do
  @moduledoc false

  use Agent

  alias <%= inspect @module %>.State

  def start_link(_opts \\ []) do
    Agent.start_link(fn -> State.new() end)
  end

  def set_greeting(server, greeting) do
    Agent.update(server, &State.set_greeting(&1, greeting))
  end

  def get_greeting(server) do
    Agent.get(server, &State.get_greeting(&1))
  end
end
